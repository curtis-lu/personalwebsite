---
title: "[閱讀筆記]實用詐欺預防：金融科技與電子商務的詐欺與洗錢分析，使用SQL與python(2)"
date: 2023-08-27T12:31:05+08:00
draft: false
ShowToc: true
TocOpen: true
cover:
    image: img/taiwan2.jpeg
    alt: '詐欺風險分析與預防'
    caption: 'Photo by <a href="https://unsplash.com/@chunchia?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">張 峻嘉</a> on <a href="https://unsplash.com/photos/ZFddx3rGaow?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>'
tags: ['fraud', 'risk analysis']
keywords:
    - fraud risk
    - fraud prevention
    - fraud analysis
    - 詐欺風險與預防
    - 偽冒風險與預防
    - 盜刷風險與預防
    - 詐欺風險分析
categories: ['note']
---

# Chapter 3 詐騙分析基礎概念

## 像偽冒者一樣地思考

- 詐欺的核心原則是ROI ，花最少力氣、賺最多，不成功則換下一個方法。
    - 偽冒集團以前會去一次買高單價商品，但發現容易被阻擋後，轉而拆開購買多個低價一點的商品。
- 會去扮演“正常的樣子”來避免被阻擋。例如去攻擊服飾網站時，可能會試圖假扮成「公司團體或社團的大批購買」。如果是攻擊電子商品網站，可能會試圖扮演一般人，同時買筆電、滑鼠，耳機等等。
- 雖然前面幾章提到了詐欺的類別，但在偽冒者眼中，並沒有這些區分。例如雖然

## 帳戶與交易

- 交易行為：跟支付行為有關。
- 帳戶行為：改密碼、使用會員點數、領取折價券這些行為跟交易沒有直接關聯。
- 兩者的共同分析有助於發現與即時阻擋詐欺。

## 詐欺與客戶體驗的平衡

- 經營線上的生意，無可避免地會有偽冒。若想要零偽冒，就不要做生意。
- 必須在防堵偽冒跟客戶體驗之間取得平衡，因此關鍵在於精準度。
- 建議去計算出Profit margin，即每一筆偽冒帶來的損失有多少？如果是實體商品，可能有商品本身的成本、運費、處理chargeback的成本，以及相關的罰款等等。但對軟體商而言，可能就只有chargeback的費用。
- 舉例：平均一筆偽冒，損失多少錢？多少交易會發生一筆偽冒，這些交易總共賺多少錢？
- 防偽和摩擦之間的平衡需要時常動態調整，哪些交易要核准？哪些工具要投資？如何訓練或重建機器學習模型？

## 防堵偽冒的心理成本

- 第一線的詐欺預防專員面臨緊張對立的KPI，既要阻擋詐欺，又要讓越多正常交易完成越好，而且必須跟時間賽跑。
- 另一方面，由於很容易知道是不是因為自己做錯判斷而導致錯放偽冒，或錯擋正常交易，心理壓力就又更大了。
- 管理人必須清楚了解這些心理壓力，給予足夠的支持和建議。

## 信任分級的概念

- 交易的結果是二分的，不是核准就是拒絕。但風險是有光譜的，應該去反應摩擦的程度。
    - 一個剛開辦的新客戶，若對他信任度高的話，要讓他有最好的客戶體驗。
    - 輕微懷疑，可以持續監控、受限制的訪問權限、或加一些驗證機制。例如CAPTHCA或email驗證或SMS驗證。

## 異常偵測？

- 異常偵測寄望可以透過不尋常的交易高峰來偵測出偽冒。但先不論偽冒的發現通常需要一段時間客戶才會來反應。偽冒基本上是很稀少的，偽冒率2%已經是很嚴重，所以不平衡資料的問題很大。所以異常偵測通常只是調查的開端。

## 經濟上的困境也會影響偽冒

- 有80%的合格詐欺預警專業人士認為經濟不好時會增加參與詐欺的人數
- 另一方面，經濟不好時也會影響正常的客戶行為，例如多買一些民生用品。
- covid-19讓越來越多人上網買東西，去一些沒去過的網站等等。讓被釣魚的機會增加，且在家工作的設備也讓犯罪者有更多可趁之機。
- friendly fraud or first party fraud也可能增加，消費者的購買習慣即使在經濟條件變差的情況下，可能還是不願意改變。在這種情況下，可能道德風險的機率就會增加。可以即早去完善退款政策等等。


# Chapter 4 **詐欺預防衡量標準與投資**

## 詐欺預防方法

### 規則引擎

- 可利用各種特徵判斷，商品類型、價格、時區、地點、地址、手機、郵件資訊、時段、裝置資訊、瀏覽器資訊等等。
- 決策也有多種：自動核准或拒絕、送交人工審核、自動要求雙因子驗證，等等。
- 特色：一刀切的規則、簡單、可快速生效、有管控的實感。

### 機器學習

- 自動透過大量數據學習如何識破新的詐欺技巧
- 可以看見人所未見
- 缺點是黑箱，模型出錯很難修正，防詐欺專員沒辦法瞭解模型如何決策。

### Hybrid system

- 可以是利用機器學習的識別pattern的能力，並利用規則去快速應對新攻擊。

### Data enrichment tools

- 利用交易或帳戶資訊取得的資料，跟第三方資源去取得額外的資訊。
- 非常多種 可根據ROI考慮到底要用哪種
- 可提供姓名 郵件 手機 地址 卡號 IP 社會簡歷 信用分數
- 有些資料只在特定地區、特定產業比較有用
- 資料的新鮮度也要考慮

### Consortium model

- 集團主義，詐欺是所有公司的共同敵人。
- 打群架可能透過非正式的資訊溝通、找共同的vender以獲取他人的經驗。
- 透過合作，發現詐欺者用遠端控制電腦時，因為畫面延遲的關係，手眼協調會跟一般人很不一樣。
- 詐欺者會重複使用email address、手機號碼等等，可以互相分享。
- 缺點是，上述資訊確認是詐欺的時間差，導致今天拿到的資料，只可以抓到上個月的詐欺。(“a decline list is a great way to catch last month’s fraudster”.)
- 另外，上述資訊本身並沒有問題，而是被詐欺者利用而已。很有可能某個實體地址是個大樓，所以有很多正常的使用者，或是手機曾經是被偽冒集團拿來用過，後來正常的客戶以二手購入。
- 因為個資問題，各公司常不願意分享這些資料。
- 可參考：DoubleVerify、Forter、Riskfield、Cyota、IBM trusteer、Biotech等等。
- **Provideless consortium:** 透過一些資安技術，可以做到不分享實際資料就比對資料是否一致。例如雙方一起骰一個骰子，得到一個很大的數，把這個數跟CVV（信用卡安全碼）加起來，把加起來之後的數字，分別告訴給第三方，第三方回覆是否相同。在這個方式，第三方不會知道CVV到底是多少，因為不知道隨機數是多少，雙方也不會知道對方的CVV是多少（只有在雙方CVV一致的情況下才知道），因為不會知道對方加上隨機數之後的數字是多少。此技術可參考 Identiq。

## 建立分析團隊

- 要有資深的人員，既可以從微觀層級（granular level）知道如何發現交易異常，也可從宏觀層級瞭解詐欺趨勢的影響及防範方法。
- 訓練新人可以從個案人工檢視開始，搭配gap analysis，即比較真實結果與預測，從中抽樣與重新檢視看是什麼原因導致盲點。
- 團隊文化方面，鼓勵創新，例如有什麼資料源可以用？既有的資料及工具有沒有新的應用？
- 要有實驗精神，不要一味追求降低偽冒，也要多嘗試使用新工具。降低摩擦跟降低偽冒一樣重要。
- 階層要越扁平越好，嚴謹的階層會導致員工不願意做一些新的方法或實驗。

## 跟顧客支援團隊協作

- 通常客戶支援團隊比較不注重偽冒防堵這一部分。

## 衡量損失與影響

- 主要的兩個KPI: false positive vs chargeback。管理階層必須知道這是兩難。
- False positive可能不好衡量，被拒絕的交易，除非聯絡客戶，否則也難以確認是否為詐騙交易。可能要適時放入灰色地帶。
- 指標的目標訂定也跟所屬產業的平均狀況有關。
- 實際的詐欺金額很難衡量：因為你的防詐措施較有效，詐欺者就放棄了原本可能會繼續的詐欺。
- 其他額外的成本：例如退貨的處理、作業成本。
- 商譽也是個可能的影響。

## 證明詐欺預防值得投資

- 即使做得很好，管理階層不一定會知道。就算知道，他們也要向董事或是利害關係人證明。所以需要數字。
- 偽冒率、分類偽冒率
- 成功阻擋的偽冒數、占所有偽冒的筆數比例或金額比例
- 潛在的偽冒損失，與實際偽冒損失的比較
- chargeback rate
- 人工處理率、人工處理筆數
- 人工處理案件中，核准的比率
- 人工處理的時效
- 帳戶濫用、親友間的偽冒爭議、假評論等。

## 跨部門關係

- 讓其他部門知道 我們需要知道哪些事情，例如有哪些促銷活動？範圍多大？何時開始？進行多久？
- 可以追蹤的指標有：
    - 預期會增加多少交易量
    - 預期會增加多少客單價
    - 客戶行為可能有哪些改變
    - 交易類型可能有哪些改變

## 資料分析策略

- 有經驗的偽冒預防人員可以跟建模人員，一起定期review機器學習模型所使用的特徵。
- 可以定期幫忙探索、發想、測試、刪除特徵
- 客服部門的支援也很重要，可以協助發現異常。例如客戶資料是80歲阿罵，可是接電話的是年輕女性。
- 也可以提供一些可疑的情境，供客服人員點選，讓他們可以即時通報。
- 同時也記得讓客戶支援團隊知道，他們的協助幫到了你們多少。

## 防詐欺科技策略

- 使用防詐科技不是為了要炫技，需要有數字評估。
- 相對地，資源較稀少的團隊，可能引入新科技要等個幾年，但也沒關係，只要確認有幫助，取得該科技時仍然值得。
- 防詐科技面對不同偽冒情境可以搭配使用不同工具，例如規則引擎在面臨covid-19爆發時，可以快速反應，但機器學習需要時間去累積訓練資料。

## 資料隱私策略

- Recital 47 of the EU’s General Data Protection Regulation (GDPR) notes: “The processing of personal data strickly necessary for the purposes of preventing fraud also constitutes a legitmate interest of the data controller concered.”
- the California Privacy Rights Act (CPRA) 豁免為了防詐的目的而留存客戶資料。
- 上述立法目的，是因為立法者知道若不能分享有關詐欺預防的資料，將有害於詐欺預防。但實際上仍然有嚴格要求須符合防詐目的。

## 識別新威脅與追蹤新工具

- 偽冒預防的工作每天都需要立即的反應，但仍然需要有專門的人去定期分析自家資料、或是去追蹤論壇、文章、防詐社群的新知。每週跟第一線的防詐人員討論，也有助發現pattern。
- 定期去調查有什麼新工具可以使用，納入工具箱清單，找尋有沒有適合自家的工具。

## 本章小節

本章概要介紹了成功詐欺預防團隊的框架，包括使用的系統、團隊組成、跟其他部門的關係、資料隱私問題、與時俱進的重要性。下一章是本章的延伸，討論機器學習的討戰與解決方案。